<!DOCTYPE html>
<html lang="en">
  <body>
    <div class="text-[1.8rem] text-center font-bold text-orange-600 mt-16">
      {@action |> String.capitalize()} Page.
    </div>

    <div class="flex border border-2 rounded-xl shadow-2xl md:h-[50%] h-[60%] md:w-[35%] w-[90%] mt-2 mx-auto">
      <form
        phx-submit="confirm_form"
        phx-value-action={@action}
        class="flex flex-col py-6 px-8 h-full w-full"
      >
        <%= if @action=="register" do %>
          <div class="mb-4 mt-4">
            <p class="text-sm text-gray-800">First & Last Name.</p>
            <input
              name="name"
              type="text"
              placeholder="John Smith"
              class="rounded-lg border border-gray-300 border-1 focus:border-blue-600 px-4 py-2 w-[85%]"
              required
            />
            <p class="text-sm text-red-600">
              {@error_list |> Keyword.get(:err_name)}
            </p>
          </div>
        <% end %>

        <div class="mb-8 mt-4">
          <p class="text-sm text-gray-800">E-mail.</p>
          <input
            name="email"
            type="email"
            placeholder="john@smith.com"
            class="rounded-lg border border-gray-300 border-1 focus:border-blue-600 px-4 py-2 w-[85%]"
            required
          />
          <p class="text-sm text-red-600">
            {@error_list |> Keyword.get(:err_email)}
          </p>
        </div>
        <div class="mb-4">
          <p class="text-sm text-gray-800">Password.</p>
          <input
            name="passwd"
            type="password"
            placeholder="John_Smith123"
            class="rounded-lg border border-gray-300 border-1 focus:border-blue-600 px-4 py-2 w-[85%]"
            required
          />

          <%= if err_passwd = Keyword.get(@error_list, :err_passwd) do %>
            <p class="text-sm text-red-600">
              {err_passwd}
            </p>
          <% end %>
          <br />
          <%= if @action=="login" do %>
            <a href="/forget" class="px-2 text-sm text-blue-600">Did you forget your password?</a>
          <% end %>
        </div>

        <p class="flex items-end mt-auto text-sm text-red-600">
          {@error_list |> Keyword.get(:err_get)}
        </p>

        <div class="flex justify-between items-end mt-auto">
          <button type="submit" class="rounded-lg shadow-md bg-blue-700 text-white py-2 px-4">
            Send
          </button>

          <a
            href={"/login?action=#{@counter}"}
            class="text-sm bg-transparent rounded-lg border border-blue-600 shadow-md text-blue-600 py-2 md:px-4 px-2"
          >
            {@counter |> String.capitalize()} instead
          </a>
        </div>
      </form>
    </div>
  </body>
</html>
